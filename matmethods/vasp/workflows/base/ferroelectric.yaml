fireworks:
- fw: matmethods.vasp.fireworks.core.OptimizeFW
  params:
    structure: 'polar'
- fw: matmethods.vasp.fireworks.core.StaticFW
  params:
    parents: 0
    structure: 'polar'
- fw: matmethods.vasp.fireworks.core.NonSCFFW
  params:
    parents: 1
    mode: uniform
    structure: 'polar'
- fw: matmethods.vasp.fireworks.core.NonSCFFW
  params:
    parents: 1
    mode: line
    structure: 'polar'
    cuts:
      cut0:
        child_name: "static dipole moment"
        band_gap:
          gt: 0
      cut1:
        child_name: "hse gap"
        band_gap:
          gt: 0
          lte: 1
- fw: matmethods.vasp.fireworks.core.HSEBSFW  # add condition: run if PBE band gap < 1 eV
  params:
    parents: 3
    structure: 'polar'
- fw: matmethods.vasp.fireworks.core.OptimizeFW
  params:
    parents: 3
    structure: 'nonpolar'
- fw: matmethods.vasp.fireworks.core.StaticFW  # split into nimage volumes
  params:
    parents: 5
    structure: 'interpolate'
    nimages: 5
- fw: matmethods.vasp.fireworks.core.LcalcpolFW  # split into nimage volumes
  params:
    parents: 6
    structure: 'interpolate'
    nimages: 5
